/*!
 * accordion v2.0.0
 * https://github.com/alexspirgel/accordion
 */
var Accordion=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){const r=n(3);class ValidationError extends Error{constructor(...e){super(...e)}set modelPathManager(e){e instanceof r||(e=new r(e)),this._modelPathManager=e}get modelPathManager(){return this._modelPathManager}set inputPathManager(e){e instanceof r||(e=new r(e)),this._inputPathManager=e}get inputPathManager(){return this._inputPathManager}}e.exports=ValidationError},function(e,t){e.exports=class Item{static isItem(e){return e instanceof this}static get availableStates(){return["closed","closing","opened","opening"]}static get instanceCount(){return"number"!=typeof this._instanceCount&&(this._instanceCount=0),this._instanceCount}static set instanceCount(e){if("number"!=typeof e)throw"`instanceCount` must be a number.";return this._instanceCount=e}static instanceCountIncrement(){return this.instanceCount=this.instanceCount+1}constructor(e){this.bundle=e.bundle,this.element=e.element;const t=this.Accordion.normalizeElements(this.options.defaultOpenItems);return this.state="closed",t.includes(this.element)&&(this.state="opened"),this.options.elements.content&&this.addContent(this.options.elements.content),this.options.elements.trigger&&this.addTrigger(this.options.elements.trigger),this}get bundle(){return this._bundle}set bundle(e){if("function"!=typeof e.constructor.isBundle||!e.constructor.isBundle(e))throw new Error("'bundle' must be an instance of the Bundle class.");return this._bundle=e,e}get accordion(){return this.bundle.accordion}get Accordion(){return this.bundle.Accordion}get options(){return this.accordion.options}get element(){return this._element}set element(e){if(!this.Accordion.isElement(e))throw new Error("'element' must be an element.");if(this.Accordion.isElementInitialized(e))throw new this.Accordion.CodedError("already-initialized","'element' already exists as part of an accordion.");return e.setAttribute(this.Accordion.dataAttributes.elementType,"item"),this._element=e,e}get count(){return"number"!=typeof this._count&&(this._count=this.constructor.instanceCountIncrement()),this._count}get state(){return this.element.getAttribute(this.Accordion.dataAttributes.itemState)}set state(e){if(!this.constructor.availableStates.includes(e))throw new Error(`'state' must be an available state. Available states include: ${this.constructor.availableStates.join(", ")}.`);this.element.setAttribute(this.Accordion.dataAttributes.itemState,e),this.trigger&&this.trigger.updateAriaExpanded()}filterElementsByScope(e){let t=this.Accordion.normalizeElements(e);const n=this.element.querySelectorAll("["+this.Accordion.dataAttributes.elementType+'="bundle"]');return this.Accordion.filterElementsByContainer(t,this.element,n)}get trigger(){return this._trigger}set trigger(e){if(!(e instanceof Accordion.Trigger)&&null!=e)throw new Error("'trigger' must be a Trigger class instance, undefined, or null.");return this._trigger=e,e}addTrigger(e){const t=this.filterElementsByScope(e);if(t.length>0){const e=t[0];this.accordion.dispatchEvent(this.Accordion.eventNames.addTrigger.before,[e]);try{const t=new this.Accordion.Trigger({item:this,element:e});return this.trigger=t,this.accordion.dispatchEvent(this.Accordion.eventNames.addTrigger.after,[t]),!0}catch(t){if("already-initialized"===t.code)return this.debug(t,e),!1;throw t}}else this.debug("No element was found when trying to add trigger.")}removeTrigger(){this.trigger&&(this.accordion.dispatchEvent(this.Accordion.eventNames.removeTrigger.before,[this.trigger]),this.trigger.destroy(),this.accordion.dispatchEvent(this.Accordion.eventNames.removeTrigger.after,[this.trigger.element])),this.trigger=void 0}get content(){return this._content}set content(e){if(!(e instanceof Accordion.Content)&&null!=e)throw new Error("'content' must be a Content class instance, undefined, or null.");return this._content=e,e}addContent(e){const t=this.filterElementsByScope(e);if(t.length>0){const e=t[0];this.accordion.dispatchEvent(this.Accordion.eventNames.addContent.before,[e]);try{const t=new this.Accordion.Content({item:this,element:e});return this.content=t,this.accordion.dispatchEvent(this.Accordion.eventNames.addContent.after,[t]),!0}catch(t){if(t.code="already-initialized")return this.accordion.debug(t,e),!1;throw t}}else this.debug("No element was found when trying to add content.")}removeContent(){this.content&&(this.accordion.dispatchEvent(this.Accordion.eventNames.removeContent.before,[this.content]),this.content.destroy(),this.accordion.dispatchEvent(this.Accordion.eventNames.removeContent.after,[this.content.element])),this.content=void 0}get nestedBundleElements(){if(this.element){let e=this.element.querySelectorAll("["+this.Accordion.dataAttributes.elementType+'="bundle"]');return Array.from(e)}}get nextLevelNestedBundleElements(){const e=this.nestedBundleElements;if(e){return this.Accordion.filterElementsByContainer(e,null,e)}}getNextPreviousItem(e){if("string"!=typeof e)throw new Error("'nextPrevious' must be a string.");if("next"!==(e=e.toLowerCase())&&"previous"!==e)throw new Error("'nextPrevious' must be 'next' or 'previous'.");let t;const n=Array.from(this.bundle.items).map(e=>e.element).filter(this.Accordion.isElement),r=this.Accordion.orderElementsByDOMTree(n,"desc").map(e=>this.Accordion.dataFromElement(e)),i="next"===e?1:-1,o="next"===e?0:r.length-1,s=r.indexOf(this);if(s>=0){let e=s+i;(e<0||e>=r.length)&&(e=o),r[e]&&(t=r[e])}return t}get nextItem(){return this.getNextPreviousItem("next")}get previousItem(){return this.getNextPreviousItem("previous")}open(e=!1){if(!this.content)return this.debug("Item cannot open, missing content."),!1;if(!this.content.element)return this.debug("Item cannot open, missing content element."),!1;if(!this.content.contentInner)return this.debug("Item cannot open, missing content inner."),!1;if(!this.content.contentInner.element)return this.debug("Item cannot open, missing content inner element."),!1;if(this.accordion.dispatchEvent(this.Accordion.eventNames.openItem.before,[this]),!this.options.multipleOpenItems&&this.bundle)for(const t of this.bundle.items)t!==this&&t.close(e);let t="";e&&(t=this.content.element.style.transition,this.content.element.style.transition="none"),this.state="opening",this.Accordion.transitionAuto({element:this.content.element,innerElement:this.content.contentInner.element,property:"height",value:"auto",debug:this.options.debug,onComplete:()=>{this.state="opened",e&&(this.content.element.offsetWidth,this.content.element.style.transition=t),this.accordion.dispatchEvent(this.Accordion.eventNames.openItem.after,[this])}})}close(e=!1){if(!this.content)return this.debug("Item cannot close, missing content."),!1;if(!this.content.element)return this.debug("Item cannot close, missing content element."),!1;if(!this.content.contentInner)return this.debug("Item cannot close, missing content inner."),!1;if(!this.content.contentInner.element)return this.debug("Item cannot close, missing content inner element."),!1;this.accordion.dispatchEvent(this.Accordion.eventNames.closeItem.before,[this]);let t="";e&&(t=this.content.element.style.transition,this.content.element.style.transition="none"),this.state="closing",this.Accordion.transitionAuto({element:this.content.element,innerElement:this.content.contentInner.element,property:"height",value:0,debug:this.options.debug,onComplete:()=>{if(this.state="closed",e&&(this.content.element.offsetWidth,this.content.element.style.transition=t),this.accordion.dispatchEvent(this.Accordion.eventNames.closeItem.after,[this]),this.options.closeNestedItems&&this.nextLevelNestedBundleElements)for(const e of this.nextLevelNestedBundleElements){const t=this.Accordion.dataFromElement(e);for(const e of t.items)e.close(!0)}}})}toggle(e=!1){"closed"===this.state||"closing"===this.state?this.open(e):this.close(e)}destroy(){this.trigger&&this.trigger.destroy(),this.content&&this.content.destroy(),this.element.removeAttribute(this.Accordion.dataAttributes.elementType),this.element.removeAttribute(this.Accordion.dataAttributes.itemState),this.bundle.removeItem(this)}}},function(e,t,n){const r=n(3),i=n(0),o=n(10),s=n(11);class Schema{static get validationMethods(){return[{property:"required",method:this.validateRequired},{property:"type",method:this.validateType},{property:"exactValue",method:this.validateExactValue},{property:"greaterThan",method:this.validateGreaterThan},{property:"greaterThanOrEqualTo",method:this.validateGreaterThanOrEqualTo},{property:"lessThan",method:this.validateLessThan},{property:"lessThanOrEqualTo",method:this.validateLessThanOrEqualTo},{property:"divisibleBy",method:this.validateDivisibleBy},{property:"notDivisibleBy",method:this.validateNotDivisibleBy},{property:"minimumCharacters",method:this.validateMinimumCharacters},{property:"maximumCharacters",method:this.validateMaximumCharacters},{property:"minimumLength",method:this.validateMinimumLength},{property:"maximumLength",method:this.validateMaximumLength},{property:"instanceOf",method:this.validateInstanceOf},{property:"allowUnvalidatedProperties",method:this.validateAllowUnvalidatedProperties},{property:"custom",method:this.validateCustom},{property:"allPropertySchema",method:this.validateAllPropertySchema},{property:"propertySchema",method:this.validatePropertySchema}]}static validateRequired(e,t){if(!0===e.value&&(void 0===t.value||null===t.value))throw new i("Property 'required' validation failed. The input must not be null or undefined.");return!0}static validateType(e,t){if("number"===e.value){if("number"==typeof t.value&&!isNaN(t.value))return!0}else if("object"===e.value){if("object"==typeof t.value&&!Array.isArray(t.value)&&null!==t.value)return!0}else if("array"===e.value){if(Array.isArray(t.value))return!0}else if(("boolean"===e.value||"string"===e.value||"function"===e.value)&&typeof t.value===e.value)return!0;throw new i("Property 'type' validation failed. The input type must match.")}static validateExactValue(e,t){if(Array.isArray(e.value)){for(const n of e.value)if(t.value===n)return!0}else if(t.value===e.value)return!0;throw new i("Property 'exactValue' validation failed. The input must be an exact match of the value or one of the values in an array of values.")}static validateGreaterThan(e,t){if(t.value>e.value)return!0;throw new i("Property 'greaterThan' validation failed. The input must be greater than the value.")}static validateGreaterThanOrEqualTo(e,t){if(t.value>=e.value)return!0;throw new i("Property 'greaterThanOrEqualTo' validation failed. The input must be greater than or equal to the value.")}static validateLessThan(e,t){if(t.value<e.value)return!0;throw new i("Property 'lessThan' validation failed. The input must be less than the value.")}static validateLessThanOrEqualTo(e,t){if(t.value<=e.value)return!0;throw new i("Property 'lessThanOrEqualTo' validation failed. The input must be less than or equal to the value.")}static validateDivisibleBy(e,t){if(Array.isArray(e.value)){for(const n of e.value)if(t.value%n==0)return!0}else if(t.value%e.value==0)return!0;throw new i("Property 'divisibleBy' validation failed. The input must be divisible by the value or one of the values in an array of values.")}static validateNotDivisibleBy(e,t){let n=!1;if(Array.isArray(e.value))for(const r of e.value)t.value%r==0&&(n=!0);else t.value%e.value==0&&(n=!0);if(n||isNaN(t.value))throw new i("Property 'notDivisibleBy' validation failed. The input must not be divisible by the value or one of the values in an array of values.");return!0}static validateMinimumCharacters(e,t){if(t.value.length>=e.value)return!0;throw new i("Property 'minimumCharacters' validation failed. The input must have a character count greater than or equal to the value.")}static validateMaximumCharacters(e,t){if(t.value.length<=e.value)return!0;throw new i("Property 'maximumCharacters' validation failed. The input must have a character count less than or equal to the value.")}static validateMinimumLength(e,t){if(t.value.length>=e.value)return!0;throw new i("Property 'minimumLength' validation failed. The input must have a length greater than or equal to the value.")}static validateMaximumLength(e,t){if(t.value.length<=e.value)return!0;throw new i("Property 'maximumLength' validation failed. The input must have a length less than or equal to the value.")}static validateInstanceOf(e,t){if(Array.isArray(e.value)){for(const n of e.value)if(t.value instanceof n)return!0}else if(t.value instanceof e.value)return!0;throw new i("Property 'instanceOf' validation failed. The input must be an instance of the value or one of the values in an array of values.")}static validateAllowUnvalidatedProperties(e,t){if(!1===e.value){e.removePathSegment(),e.addPathSegment("propertySchema");let n=[];e.value&&(n=Object.keys(e.value));for(const e in t.value)if(!n.includes(e))throw new i(`Property 'allowUnvalidatedProperties' validation failed. '${e}' is not defined in the 'propertySchema' validation property.`)}return!0}static validateCustom(e,t){const n=t.clone({data:!0,path:!0});return e.value(n)}static validateAllPropertySchema(e,t){const n=new Schema(e.clone(),!1);for(const e in t.value){const r=t.clone();r.addPathSegment(e);const i=n.validate(r,"array");if(!0!==i)return i}return!0}static validatePropertySchema(e,t){for(const n in e.value){const r=e.clone();r.addPathSegment(n);const i=new Schema(r,!1),o=t.clone();o.addPathSegment(n);const s=i.validate(o,"array");if(!0!==s)return s}return!0}constructor(e={},t=!0){this.selfValidate=t,this.modelPathManager=e}set modelPathManager(e){if(e instanceof r||(e=new r(e)),this._modelPathManager=e,this.selfValidate){new Schema(s,!1).validate(this.modelPathManager)}}get modelPathManager(){return this._modelPathManager}validate(e,t="throw"){e instanceof r||(e=new r(e));let n=new o;if(Array.isArray(this.modelPathManager.value))for(let t=0;t<this.modelPathManager.value.length;t++){const r=this.modelPathManager.clone();r.addPathSegment(t);const i=this._validate(r,e);if(!0===i)return!0;n.addError(i)}else{const t=this._validate(this.modelPathManager,e);if(!0===t)return!0;n.addError(t)}if("throw"===t)throw new Error(n.generateFormattedMessage());return"array"===t?n.errors:"boolean"!==t&&void 0}_validate(e,t){if(!0!==e.value.required&&(void 0===t.value||null===t.value))return!0;for(const n of this.constructor.validationMethods)if(e.value.hasOwnProperty(n.property)){const r=e.clone();r.addPathSegment(n.property);try{const e=n.method(r,t);if(!0!==e)return e}catch(e){if(e instanceof i)return e.modelPathManager||(e.modelPathManager=r),e.inputPathManager||(e.inputPathManager=t),e;throw e}}return!0}}Schema.ValidationError=i,e.exports=Schema},function(e,t,n){const r=n(4);e.exports=class DataPathManager{constructor(e,t=[]){this.data=e,this.path=t}set path(e){if(!Array.isArray(e))throw new Error("Path must be an array");this._path=e}get path(){return this._path}addPathSegment(e){this.path.push(e)}removePathSegment(){return this.path.splice(-1,1)[0]}get value(){let e=this.data;for(let t of this.path)try{e=e[t]}catch(e){return}return e}clone(e={}){e=r({},{data:!1,path:!0},e);let t=this.data;e.data&&"object"==typeof t&&(t=Array.isArray(t)?r([],t):r({},t));let n=this.path;return e.path&&(n=[...this.path]),new this.constructor(t,n)}}},function(e,t,n){const r=n(5),i=(...arguments)=>{let e,t,n,o=arguments[0];for(e=1;e<arguments.length;e++)if(t=arguments[e],t!==o)if(n=Array.isArray(t),n||r(t)){n&&!Array.isArray(o)?o=[]:n||r(o)||(o={});for(const e in t)"__proto__"!==e&&(o[e]=i(o[e],t[e]))}else void 0!==t&&(o=t);return o};e.exports=i},function(e,t,n){const r=e=>"[object Object]"===Object.prototype.toString.call(e)&&(void 0===e.constructor||"[object Object]"===Object.prototype.toString.call(e.constructor.prototype)&&!!e.constructor.prototype.hasOwnProperty("isPrototypeOf"));e.exports&&(e.exports=r)},function(e,t,n){e.exports=class Content{constructor(e){return this.boundUpdateAriaLabelledBy=this.updateAriaLabelledBy.bind(this),this.item=e.item,this.element=e.element,this.options.elements.contentInner&&this.addContentInner(this.options.elements.contentInner),this}get item(){return this._item}set item(e){if(!(e instanceof n(1)))throw new Error("'item' must be an instance of the Item class.");this._item=e}get options(){return this.item.bundle.accordion.options}get element(){return this._element}set element(e){if(!this.constructor.isElement(e))throw new Error("'element' must be an element.");if(this.constructor.isElementInitialized(e))throw new CodedError("already-initialized","'element' already exists as part of an accordion.");return this._element=e,e[this.constructor.elementProperty]=this,e.setAttribute(this.constructor.elementDataAttribute,"content"),this.usingExistingId=!0,e.getAttribute("id")||(e.setAttribute("id","accordion-content-"+this.item.count),this.usingExistingId=!1),this.updateAriaLabelledBy(),this.item.element.addEventListener(this.item.constructor.accordionItemAddTriggerEventName,this.boundUpdateAriaLabelledBy),this.existingStyleHeight=e.style.height,"closed"===this.item.state&&(e.style.height=0),this._element}updateAriaLabelledBy(){this.element&&this.item.trigger&&this.element.setAttribute("aria-labelledby",this.item.trigger.element.getAttribute("id"))}filterElementsByScope(e){let t=this.constructor.normalizeElements(e);const n=this.element.querySelectorAll("["+this.constructor.elementDataAttribute+'="bundle"]');return this.constructor.filterElementsByContainer(t,this.element,n)}get contentInner(){return this._contentInner}set contentInner(e){if(!(e instanceof ContentInner))throw new Error("'contentInner' must be a ContentInner class instance.");return this._contentInner=e,this._contentInner}addContentInner(e){const t=this.filterElementsByScope(e)[0];try{const e=new ContentInner({content:this,element:t});return this.contentInner=e,!0}catch(e){if(e.code="already-initialized")return this.debug(e,t),!1;throw e}}destroy(){this.contentInner&&this.contentInner.destroy(),delete this.element[this.constructor.elementProperty],this.element.removeAttribute(this.constructor.elementDataAttribute),this.usingExistingId||this.element.removeAttribute("id"),this.element.removeAttribute("aria-labelledby"),this.item.element.removeEventListener(this.item.constructor.accordionItemAddTriggerEventName,this.boundUpdateAriaLabelledBy),this.element.style.height=this.existingStyleHeight}}},function(e,t,n){e.exports=n(8)},function(e,t,n){e.exports=class Accordion{static get extend(){return n(9)}static get Schema(){return n(2)}static get transitionAuto(){return n(12)}static get CodedError(){return n(15)}static get Bundle(){return n(16)}static get Item(){return n(1)}static get Trigger(){return n(17)}static get Content(){return n(6)}static get ContentInner(){return n(18)}static get dataAttributes(){return{elementType:"data-accordion",itemState:"data-accordion-item-state"}}static get eventNames(){return{addBundle:{before:"accordionBeforeAddBundle",after:"accordionAfterAddBundle"},removeBundle:{before:"accordionBeforeRemoveBundle",after:"accordionAfterRemoveBundle"},addItem:{before:"accordionBeforeAddItem",after:"accordionAfterAddItem"},removeItem:{before:"accordionBeforeRemoveItem",after:"accordionAfterRemoveItem"},addTrigger:{before:"accordionBeforeAddTrigger",after:"accordionAfterAddTrigger"},removeTrigger:{before:"accordionBeforeRemoveTrigger",after:"accordionAfterRemoveTrigger"},addContent:{before:"accordionBeforeAddContent",after:"accordionAfterAddContent"},removeContent:{before:"accordionBeforeRemoveContent",after:"accordionAfterRemoveContent"},addContentInner:{before:"accordionBeforeAddContentInner",after:"accordionAfterAddContentInner"},removeContentInner:{before:"accordionBeforeRemoveContentInner",after:"accordionAfterRemoveContentInner"},openItem:{before:"accordionBeforeOpenItem",after:"accordionAfterOpenItem"},closeItem:{before:"accordionBeforeCloseItem",after:"accordionAfterCloseItem"}}}static get optionsDefault(){return{elements:{bundle:null,item:null,trigger:null,content:null,contentInner:null},accessibilityWarnings:!0,closeNestedItems:!1,defaultOpenItems:null,multipleOpenItems:!0,openAnchoredItems:!0,debug:!1}}static get optionsSchema(){const e=[{type:"string"},{type:"object",instanceOf:[Element,NodeList]},{type:"array",allPropertySchema:[{type:"string"},{type:"object",instanceOf:[Element,NodeList]}]}],t={type:"object",allowUnvalidatedProperties:!1,propertySchema:{elements:{type:"object",allowUnvalidatedProperties:!1,propertySchema:{bundle:e,item:e,trigger:e,content:e,contentInner:e}},accessibilityWarnings:{type:"boolean"},closeNestedItems:{type:"boolean"},defaultOpenItems:e,multipleOpenItems:{type:"boolean"},openAnchoredItems:{type:"boolean"},debug:{type:"boolean"}}};return new this.Schema(t)}static get accordions(){return this._accordions||(this._accordions=new Set),this._accordions}static isElement(e){return e instanceof Element}static normalizeElements(e,t=new Set){if(Array.isArray(e)||e instanceof NodeList)for(let n of e)this.normalizeElements(n,t);else if("string"==typeof e){let n=document.querySelectorAll(e);this.normalizeElements(n,t)}else this.isElement(e)&&t.add(e);return Array.from(t)}static orderElementsByDOMTree(e,t="asc"){if(!Array.isArray(e))throw new Error("'elements' must be an array.");if(!e.every(this.isElement))throw new Error("'elements' array must only contain elements.");if("asc"!==(t=t.toLowerCase())&&"desc"!==t)throw new Error("'order' must be 'asc' or 'desc'.");const n="orderElementsByDOMTree-"+Date.now().toString();for(const t of e)t.classList.add(n);const r=Array.from(document.querySelectorAll("."+n));for(const t of e)t.classList.remove(n);return"asc"===t&&r.reverse(),r}static isElementContainedBy(e,t=[],n="and"){if(!this.isElement(e))throw new Error("'element' must be an element.");const r=this.normalizeElements(t);if("string"!=typeof n)throw new Error("'operator' must be a string.");if("and"!==(n=n.toLowerCase())&&"or"!==n)throw new Error("'operator' must be 'and' or 'or'.");let i=!1;for(const t of r)if(t.contains(e)&&t!==e){if(i=!0,"or"===n)break}else if(i=!1,"and"===n)break;return i}static isElementNotContainedBy(e,t=[],n="and"){if("string"!=typeof n)throw new Error("'operator' must be a string.");if("and"===(n=n.toLowerCase()))return!this.isElementContainedBy(e,t,"or");if("or"===n)return!this.isElementContainedBy(e,t,"and");throw new Error("'operator' must be 'and' or 'or'.")}static filterElementsByContainer(e,t=[],n=[],r="and"){if(!Array.isArray(e))throw new Error("'elements' must be an array.");if(!e.every(this.isElement))throw new Error("'elements' array must only contain elements.");return e.filter(e=>{let i=!0;return t&&(this.isElementContainedBy(e,t,r)||(i=!1)),n&&i&&(this.isElementNotContainedBy(e,n,r)||(i=!1)),i})}static isElementInitialized(e){return!!this.dataFromElement(e)}static dataFromElement(e){if(!this.isElement(e))throw new Error("'element' must be an element.");for(const t of this.accordions)for(const n of t.bundles){if(e===n.element)return n;for(const t of n.items){if(e===t.element)return t;if(t.content){if(e===t.content.element)return t.content;if(t.content.contentInner&&e===t.content.contentInner.element)return t.content.contentInner}if(t.trigger&&e===t.trigger.element)return t.trigger}}return!1}static isAccordion(e){return e instanceof this}static addAccordion(e){if(!this.isAccordion(e))throw new Error("'accordion' must be an Accordion class instance.");if(this.accordions.has(e))throw new Error("'accordion' has already been added.");return this._accordions.add(e),e}static removeAccordion(e){return this.accordions.has(e)?(this.accordions.delete(e),e):(this.debug("Accordion to be removed was not found."),!1)}static initializeHashChangeListener(){this.initializedHashListener||(window.addEventListener("hashchange",this.hashChangeHandler.bind(this)),this.initializedHashListener=!0)}static hashChangeHandler(e){this.openAnchoredItem(e.target.location.hash)}static openAnchoredItem(e=location.hash){if(e){const t=document.querySelector(e);if(t){let e=!1;for(const n of this.accordions)if(n.options.openAnchoredItems)for(const r of n.bundles)for(const n of r.items)n.element&&n.element.contains(t)&&(n.open(!0),e=!0);e&&t.scrollIntoView()}}}constructor(e){return this.options=e,this.Accordion.initializeHashChangeListener(),this.Accordion.addAccordion(this),this.options.elements.bundle&&(this.addBundles(this.options.elements.bundle),this.Accordion.openAnchoredItem()),this.debug(this),this}get options(){return this._options||(this._options=this.Accordion.extend({},this.Accordion.optionsDefault)),this._options}set options(e){return this.Accordion.optionsSchema.validate(e),this._options=this.Accordion.extend(this.options,e),this._options}get Accordion(){return this.constructor}get bundles(){return this._bundles||(this._bundles=new Set),this._bundles}set bundles(e){if(!(e instanceof Set))throw new Error("'bundles' must be a Set.");if(!Array.from(e).every(this.Accordion.Bundle.isBundle))throw new Error("'bundles' must only contain Bundle class instances.");return this._bundles=e,e}addBundle(e){this.dispatchEvent(this.Accordion.eventNames.addBundle.before,[e]);try{const t=new this.Accordion.Bundle({accordion:this,element:e});return this.bundles.add(t),this.dispatchEvent(this.Accordion.eventNames.addBundle.after,[t]),!0}catch(t){if("already-initialized"===t.code)return this.debug(t,e),!1;throw t}}addBundles(e){let t=this.Accordion.normalizeElements(e);if(t.length>0){t=this.Accordion.orderElementsByDOMTree(t,"asc");for(const e of t)this.addBundle(e)}else this.debug("No elements were found when trying to add bundles.")}removeBundle(e){return this.bundles.has(e)?(this.dispatchEvent(this.Accordion.eventNames.removeBundle.before,[e]),this.bundles.delete(e),e.destroy(),this.dispatchEvent(this.Accordion.eventNames.removeBundle.after,[e.element]),e):(this.debug("Bundle to be removed was not found in the set."),!1)}get eventListeners(){return this._eventListeners||(this._eventListeners={}),this._eventListeners}addEventListener(e,t){if("string"!=typeof e)throw new Error("'eventName' must be a string.");if("function"!=typeof t)throw new Error("'listener' must be a function.");Array.isArray(this.eventListeners[e])||(this.eventListeners[e]=[]),this.eventListeners[e].includes(t)||this.eventListeners[e].push(t)}removeEventListener(e,t){if("string"!=typeof e)throw new Error("'eventName' must be a string.");if("function"!=typeof t)throw new Error("'listener' must be a function.");const n=this.eventListeners[e];if(Array.isArray(n)){const e=n.indexOf(t);e>=0&&n.splice(e,1)}}dispatchEvent(e,t){if("string"!=typeof e)throw new Error("'eventName' must be a string.");if(!Array.isArray(t))throw new Error("'parameters' must be an array.");const n=this.eventListeners[e];if(Array.isArray(n))for(const e of n)e.apply(this,t)}destroy(){for(const e of this.bundles)e.destroy();this.Accordion.removeAccordion(this)}debug(...e){this.options.debug&&console.log("Accordion Debug:",...e)}accessibilityWarn(...e){this.options.accessibilityWarnings&&console.warn("Accordion Accessibility Warning:",...e)}}},function(e,t,n){const r=(...arguments)=>{let e,t,n,i=arguments[0];for(e=1;e<arguments.length;e++)if(t=arguments[e],t!==i)if(n=Array.isArray(t),n||r.isPlainObject(t)){n&&!Array.isArray(i)?i=[]:n||r.isPlainObject(i)||(i={});for(const e in t)"__proto__"!==e&&(i[e]=r(i[e],t[e]))}else void 0!==t&&(i=t);return i};r.isPlainObject=e=>{const t={},n=t.toString,r=t.hasOwnProperty,i=r.toString,o=i.call(Object);if("[object Object]"!==n.call(e))return!1;const s=Object.getPrototypeOf(e);return!s||!r.call(s,"constructor")||"function"!=typeof s.constructor||i.call(s.constructor)===o},e.exports&&(e.exports=r)},function(e,t,n){const r=n(0);e.exports=class ValidationErrors{constructor(){this.errors=[]}addError(e){if(Array.isArray(e))for(const t of e)this.addError(t);else{if(!(e instanceof r))throw new Error("Passed 'error' must be an instance of 'Schema.ValidationError'.");this.errors.push(e)}}generateFormattedMessage(){let e="Schema errors:\n";for(const t of this.errors){let n="root";t.inputPathManager.path.length>0&&(n=t.inputPathManager.path.map(e=>"['"+e+"']"),n=n.join(""));let r="root";t.modelPathManager.path.length>0&&(r=t.modelPathManager.path.map(e=>"['"+e+"']"),r=r.join("")),e+=`\nInput Path: ${n}\nModel Path: ${r}\nMessage: ${t.message}\n`}return e}}},function(e,t,n){const r=n(4),i=n(0),o=e=>(Array.isArray(e)||(e=[e]),t=>{const n=t.removePathSegment();if(void 0===n||e.includes(t.value.type))return!0;{let t="";for(let n=0;n<e.length;n++){const r=e[n];0===n?t+=`'${r}'`:n<e.length-1?t+=`, '${r}'`:(e.length>2&&(t+=","),t+=` or '${r}'`)}throw new i(`The validation property '${n}' can only belong to a model with a type of ${t}.`)}}),s={required:{type:"boolean"},type:{type:"string",exactValue:["boolean","number","string","array","object","function"]},exactValue:{custom:o(["boolean","number","string"])},greaterThan:{type:"number",custom:o("number")},greaterThanOrEqualTo:{type:"number",custom:o("number")},lessThan:{type:"number",custom:o("number")},lessThanOrEqualTo:{type:"number",custom:o("number")},divisibleBy:{type:"number",custom:o("number")},notDivisibleBy:{type:"number",custom:o("number")},minimumCharacters:{type:"string",custom:o("string")},maximumCharacters:{type:"string",custom:o("string")},minimumLength:{type:"number",custom:o("array")},maximumLength:{type:"number",custom:o("array")},instanceOf:{custom:o("object")},allowUnvalidatedProperties:{type:"boolean",custom:o("object")},custom:{type:"function"},propertySchema:{type:"object",custom:o(["array","object"])}},a={type:"object",propertySchema:s},c={type:"array",allPropertySchema:{type:"object",propertySchema:s}},l=[a,c],d=[r({},a,{custom:o(["array","object"])}),r({},c,{custom:o(["array","object"])})];s.allPropertySchema=d,s.propertySchema.allPropertySchema=l,e.exports=l},function(e,t,n){const r=n(13),i=n(14),o=function(){function e(e){throw new Error("transitionAuto error: "+e)}function t(e,...t){e.debug&&console.log("transitionAuto debug: ",...t)}function n(e){e.propertyName===this.property&&(this.element.transitionAutoBoundHandler&&(this.element.removeEventListener("transitionend",this.element.transitionAutoBoundHandler),delete this.element.transitionAutoBoundHandler),"auto"===this.value&&(this.element.style[this.property]=this.value)),o(this)}function o(e){e.element.transitionAutoValue&&delete e.element.transitionAutoValue,e.onComplete&&e.onComplete(e)}return function(s){try{r.validate(s)}catch(t){e(t)}t(s=function(t){return void 0!==(t=i({},t)).innerElement&&null!==t.innerElement||(t.element.children.length>0?t.innerElement=t.element.children[0]:e("'options.element' must have at least one child element to use as 'options.innerElement'.")),"number"==typeof t.value&&(t.value+="px"),void 0===t.suppressDuplicates&&(t.suppressDuplicates=!0),void 0===t.debug&&(t.debug=!1),t}(s),"options:",s),s.suppressDuplicates&&s.element.transitionAutoValue&&s.value===s.element.transitionAutoValue?t(s,"duplicate suppressed."):(s.element.transitionAutoBoundHandler&&(s.element.removeEventListener("transitionend",s.element.transitionAutoBoundHandler),delete s.element.transitionAutoBoundHandler),function(e){e.element.transitionAutoValue=e.value;const r=getComputedStyle(e.element);e.element.style[e.property]=r[e.property],e.element.offsetHeight;let i=!1;const s=r.transitionProperty.split(", "),a=r.transitionDuration.split(", ");for(let t=0;t<s.length;t++)if("all"===s[t]||s[t]===e.property){if("0s"!==(a[t]?a[t]:a[0])){i=!0;break}}if(i)if(t(e,"transition detected."),"auto"===e.value){const t=e.element.getBoundingClientRect(),r=e.innerElement.getBoundingClientRect();if(t[e.property]!==r[e.property])return e.element.transitionAutoBoundHandler=n.bind(e),e.element.addEventListener("transitionend",e.element.transitionAutoBoundHandler),void(e.element.style[e.property]=r[e.property]+"px")}else if(e.element.style[e.property]!==e.value)return e.element.transitionAutoBoundHandler=n.bind(e),e.element.addEventListener("transitionend",e.element.transitionAutoBoundHandler),void(e.element.style[e.property]=e.value);t(e,"immediate fallback."),e.element.style[e.property]=e.value,o(e)}(s))}}();e.exports=o},function(e,t,n){const r=n(2),i={required:!0,type:"object",allowUnvalidatedProperties:!1,propertySchema:{element:{required:!0,type:"object",instanceOf:Element},innerElement:{type:"object",instanceOf:Element,custom:e=>{const t=e.value;e.removePathSegment();const n=e.value.element;if(n.contains(t)&&n!==t)return!0;throw new r.ValidationError("'options.innerElement' must be contained within 'options.element'.")}},property:{required:!0,type:"string",exactValue:["height","width"]},value:[{required:!0,type:"number",greaterThanOrEqualTo:0},{required:!0,type:"string",custom:e=>{if(e.value.endsWith("px"))return!0;throw new r.ValidationError("'options.value' string must end with 'px'.")}},{required:!0,type:"string",exactValue:"auto"}],onComplete:{type:"function"},suppressDuplicates:{type:"boolean"},debug:{type:"boolean"}}},o=new r(i);e.exports=o},function(e,t,n){const r=n(5),i=(...arguments)=>{let e,t,n,o=arguments[0];for(e=1;e<arguments.length;e++)if(t=arguments[e],t!==o)if(n=Array.isArray(t),n||r(t)){n&&!Array.isArray(o)?o=[]:n||r(o)||(o={});for(const e in t)"__proto__"!==e&&(o[e]=i(o[e],t[e]))}else void 0!==t&&(o=t);return o};e.exports=i},function(e,t){e.exports=class CodedError extends Error{constructor(e,...t){super(...t),Error.captureStackTrace&&Error.captureStackTrace(this,CodedError),this.code=e}}},function(e,t){e.exports=class Bundle{static isBundle(e){return e instanceof this}constructor(e){return this.accordion=e.accordion,this.element=e.element,this.options.elements.item&&this.addItems(this.options.elements.item),this}get accordion(){return this._accordion}set accordion(e){if("function"!=typeof e.constructor.isAccordion||!e.constructor.isAccordion(e))throw new Error("'accordion' must be an instance of the Accordion class.");return this._accordion=e,e}get Accordion(){return this.accordion.Accordion}get options(){return this.accordion.options}get element(){return this._element}set element(e){if(!this.Accordion.isElement(e))throw new Error("'element' must be an element.");if(this.Accordion.isElementInitialized(e))throw new this.Accordion.CodedError("already-initialized","'element' already exists as part of an accordion.");return this._element=e,e.setAttribute(this.Accordion.dataAttributes.elementType,"bundle"),e}filterElementsByScope(e){if(!this.element)throw new Error("Cannot filter elements by scope without a defined 'this.element'.");let t=this.Accordion.normalizeElements(e);const n=this.element.querySelectorAll("["+this.Accordion.dataAttributes.elementType+'="bundle"]');return this.Accordion.filterElementsByContainer(t,this.element,n)}get items(){return this._items||(this._items=new Set),this._items}set items(e){if(!(e instanceof Set))throw new Error("'items' must be a Set.");if(!Array.from(e).every(this.Accordion.Item.isItem))throw new Error("'items' must only contain Item class instances.");return this._items=e,e}addItem(e){this.accordion.dispatchEvent(this.Accordion.eventNames.addItem.before,[e]);try{const t=new this.Accordion.Item({bundle:this,element:e});return this.items.add(t),this.accordion.dispatchEvent(this.Accordion.eventNames.addItem.after,[t]),!0}catch(t){if("already-initialized"===t.code)return this.accordion.debug(t,e),!1;throw t}}addItems(e){const t=this.filterElementsByScope(e);if(t.length>0)for(const e of t)this.addItem(e);else this.accordion.debug("No elements were found when trying to add items.")}removeItem(e){return this.items.has(e)?(this.accordion.dispatchEvent(this.Accordion.eventNames.removeItem.before,[e]),this._items.delete(e),e.destroy(),this.accordion.dispatchEvent(this.Accordion.eventNames.removeItem.after,[e.element]),e):(this.accordion.debug("Item to be removed was not found in the set."),!1)}getItemsOrderedByDOMTree(){let e=Array.from(this.items).map(e=>e.element);if(e.every(this.Accordion.isElement)||(this.debug("When ordering items by DOM tree, some items do not have elements, those without elements will be omitted from the ordered list."),e=e.filter(this.Accordion.isElement)),e.length<1)throw new Error("No items have an element to order by DOM tree.");return this.Accordion.orderElementsByDOMTree(e,"desc").map(e=>this.Accordion.dataFromElement(e))}get firstItem(){return this.getItemsOrderedByDOMTree()[0]}get lastItem(){const e=this.getItemsOrderedByDOMTree();return e[e.length-1]}destroy(){for(const e of Array.from(this.items))e.destroy();this.element.removeAttribute(this.Accordion.dataAttributes.elementType),this.accordion.removeBundle(this)}}},function(e,t){e.exports=class Trigger{constructor(e){return this.boundClickHandler=this.clickHandler.bind(this),this.boundKeydownHandler=this.keydownHandler.bind(this),this.boundUpdateAriaControls=this.updateAriaControls.bind(this),this.item=e.item,this.element=e.element,this}get item(){return this._item}set item(e){if("function"!=typeof e.constructor.isItem||!e.constructor.isItem(e))throw new Error("'item' must be an instance of the Item class.");return this._item=e,e}get accordion(){return this.item.accordion}get Accordion(){return this.accordion.Accordion}get options(){return this.accordion.options}get element(){return this._element}set element(e){if(!this.Accordion.isElement(e))throw new Error("'element' must be an element.");if(this.Accordion.isElementInitialized(e))throw new this.Accordion.CodedError("already-initialized","'element' already exists as part of an accordion.");return e instanceof HTMLButtonElement||this.accordion.accessibilityWarn("Accordion trigger should be a <button> element."),e.addEventListener("click",this.boundClickHandler),e.addEventListener("keydown",this.boundKeydownHandler),e.setAttribute(this.Accordion.dataAttributes.elementType,"trigger"),e.getAttribute("id")?this.usingExistingId=!0:(this.usingExistingId=!1,e.setAttribute("id","accordion-trigger-"+this.item.count)),this.updateAriaControls(),this.item.element.addEventListener(this.item.constructor.accordionItemAddContentEventName,this.boundUpdateAriaControls),this.updateAriaExpanded(),this._element=e,e}updateAriaControls(){this.element&&this.item.content.element&&this.element.setAttribute("aria-controls",this.item.content.element.getAttribute("id"))}updateAriaExpanded(){this.element&&("closing"===this.item.state||"closed"===this.item.state?this.element.setAttribute("aria-expanded","false"):"opening"!==this.item.state&&"opened"!==this.item.state||this.element.setAttribute("aria-expanded","true"))}clickHandler(){this.item.toggle()}keydownHandler(e){this.item&&(40===e.keyCode?(e.preventDefault(),e.stopPropagation(),this.item.nextItem.trigger.element&&this.item.nextItem.trigger.element.focus()):38===e.keyCode?(e.preventDefault(),e.stopPropagation(),this.item.previousItem.trigger.element.focus()):36===e.keyCode?(e.preventDefault(),e.stopPropagation(),this.item.bundle.firstItem.trigger.element.focus()):35===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.item.bundle.lastItem.trigger.element.focus()))}destroy(){delete this.element[this.constructor.elementProperty],this.element.removeAttribute(this.constructor.elementDataAttribute),this.element.removeEventListener("click",this.boundClickHandler),this.element.removeEventListener("keydown",this.boundKeydownHandler),this.usingExistingId||this.element.removeAttribute("id"),this.element.removeAttribute("aria-expanded"),this.element.removeAttribute("aria-controls"),this.item.element.removeEventListener(this.item.constructor.accordionItemAddContentEventName,this.boundUpdateAriaControls)}}},function(e,t,n){e.exports=class ContentInner{constructor(e){return this.content=e.content,this.element=e.element,this}get content(){return this._content}set content(e){if(!(e instanceof n(6)))throw new Error("'content' must be an instance of the Content class.");this._content=e}get options(){return this.content.item.bundle.accordion.options}get element(){return this._element}set element(e){if(!this.constructor.isElement(e))throw new Error("'element' must be an element.");if(this.constructor.isElementInitialized(e))throw new CodedError("already-initialized","'element' already exists as part of an accordion.");return this._element=e,e[this.constructor.elementProperty]=this,e.setAttribute(this.constructor.elementDataAttribute,"content-inner"),this._element}destroy(){delete this.element[this.constructor.elementProperty],this.element.removeAttribute(this.constructor.elementDataAttribute)}}}]);